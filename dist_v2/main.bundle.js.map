{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://webgpu/./src/objParser.ts","webpack://webgpu/./src/renderer.ts","webpack://webgpu/./src/shaders/triangle.wgsl","webpack://webgpu/webpack/bootstrap","webpack://webgpu/webpack/runtime/define property getters","webpack://webgpu/webpack/runtime/hasOwnProperty shorthand","webpack://webgpu/webpack/runtime/make namespace object","webpack://webgpu/./src/main.ts"],"sourcesContent":["export async function loadObj(filePath: string) {\r\n    const res = await fetch(filePath);\r\n    const file = await res.text();\r\n    return file;\r\n}\r\n\r\nexport function parseObj(text: string) {\r\n    let lines = text.split('\\n');\r\n    let firstVertIndex = lines.findIndex((line) => {\r\n        return line.split(\" \")[0] == 'v';\r\n    }) - 1;    \r\n\r\n    let vertexData = new Array<number>;\r\n    lines.forEach((line) => {\r\n        if (line.split(\" \")[0] == 'f') {\r\n            let lineElements = line.trim().split(\" \").slice(1);\r\n            let id1 = parseInt(lineElements[0].split(\"/\")[0]);\r\n            let data1 = getVertexData(lines[id1+firstVertIndex]);            \r\n            for (let i = 0; i < lineElements.length - 2; i++) {\r\n                let id2 = parseInt(lineElements[1 + i].split(\"/\")[0]);\r\n                let data2 = getVertexData(lines[id2+firstVertIndex]);\r\n                let id3 = parseInt(lineElements[2 + i].split(\"/\")[0]);                \r\n                let data3 = getVertexData(lines[id3+firstVertIndex]);\r\n                vertexData.push(...[...data1, ...data2, ...data3]);\r\n            }\r\n        }\r\n    })\r\n    return new Float32Array(vertexData);\r\n}\r\n\r\nfunction getVertexData(line: string) {\r\n    let lineElements = line.split(\" \").slice(1);\r\n    let output = lineElements.map((el) => parseFloat(el));\r\n    output.push(1.0);\r\n    return output;\r\n}","import shader from \"./shaders/triangle.wgsl\"\r\n// import { cubeVertex } from \"./objects/cube\"\r\n\r\nlet corX = document.getElementById(\"cordX\") as HTMLInputElement;\r\nlet corY = document.getElementById(\"cordY\") as HTMLInputElement;\r\nlet corZ = document.getElementById(\"cordZ\") as HTMLInputElement;\r\nlet sclX = document.getElementById(\"sclX\") as HTMLInputElement;\r\nlet sclY = document.getElementById(\"sclY\") as HTMLInputElement;\r\nlet sclZ = document.getElementById(\"sclZ\") as HTMLInputElement;\r\nlet fov = document.getElementById(\"fov\") as HTMLInputElement;\r\n\r\nexport class Renderer {\r\n    private canvas: HTMLCanvasElement;\r\n    public device!: GPUDevice;\r\n    private context!: GPUCanvasContext;\r\n    private renderPipeline!: GPURenderPipeline;\r\n    private bindGroup!: GPUBindGroup;\r\n    private bindGroupLayout!: GPUBindGroupLayout;\r\n    private uniformBuffer!: GPUBuffer;\r\n    private teapotBuffer!: GPUBuffer;\r\n    private bufferData!: Float32Array;\r\n    private depthTexture!: GPUTexture;\r\n    private vertexData!: Float32Array;\r\n\r\n    constructor(canvas: HTMLCanvasElement) {\r\n        this.canvas = canvas;\r\n    }\r\n\r\n    public async init(vertexData: Float32Array) {\r\n        this.vertexData = vertexData;\r\n        const adapter = await navigator.gpu.requestAdapter() as GPUAdapter;\r\n        this.device = await adapter.requestDevice();\r\n\r\n        this.context = this.canvas.getContext('webgpu') as GPUCanvasContext;\r\n        this.context.configure({\r\n            device: this.device,\r\n            format: navigator.gpu.getPreferredCanvasFormat()\r\n        });\r\n\r\n        this.bindGroupLayout = this.device.createBindGroupLayout({\r\n            entries: [\r\n                {\r\n                    binding: 0,\r\n                    visibility: GPUShaderStage.VERTEX,\r\n                    buffer: {\r\n                        type: \"uniform\",\r\n                    }\r\n                },\r\n                {\r\n                    binding: 1,\r\n                    visibility: GPUShaderStage.VERTEX,\r\n                    buffer: {\r\n                        type: \"read-only-storage\",\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n\r\n        const pipelineLayout = this.device.createPipelineLayout({\r\n            bindGroupLayouts: [this.bindGroupLayout]\r\n        });\r\n\r\n        this.renderPipeline = this.device.createRenderPipeline({\r\n            label: \"Render pipeline\",\r\n            layout: pipelineLayout,\r\n            vertex: {\r\n                module: this.device.createShaderModule({ code: shader })\r\n            },\r\n            fragment: {\r\n                module: this.device.createShaderModule({ code: shader }),\r\n                targets: [{ format: navigator.gpu.getPreferredCanvasFormat() }]\r\n            },\r\n            depthStencil: {\r\n                format: 'depth24plus',\r\n                depthWriteEnabled: true,\r\n                depthCompare: 'less',\r\n            },\r\n            primitive: {\r\n                topology: 'point-list'\r\n            }\r\n        });\r\n\r\n        this.depthTexture = this.device.createTexture({\r\n            size: [this.canvas.clientWidth * window.devicePixelRatio, this.canvas.clientHeight * window.devicePixelRatio],\r\n            format: 'depth24plus',\r\n            usage: GPUTextureUsage.RENDER_ATTACHMENT,\r\n        })\r\n\r\n        let bufferDataLength = 4 * 4 * 2;\r\n        this.bufferData = new Float32Array(bufferDataLength);\r\n        this.uniformBuffer = this.device.createBuffer({\r\n            label: 'Ovaj buffer?',\r\n            size: bufferDataLength,\r\n            usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\r\n        });\r\n\r\n        this.teapotBuffer = this.device.createBuffer({\r\n            size: this.vertexData.byteLength,\r\n            usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST,\r\n        })\r\n\r\n        this.bindGroup = this.device.createBindGroup({\r\n            label: 'Bind group for rotating triangles',\r\n            layout: this.bindGroupLayout,\r\n            entries: [\r\n                { binding: 0, resource: { buffer: this.uniformBuffer } },\r\n                { binding: 1, resource: { buffer: this.teapotBuffer } },\r\n            ]\r\n        });\r\n        requestAnimationFrame(this.render)\r\n    }\r\n\r\n    public loadData(vertexData: Float32Array) {\r\n        this.vertexData = vertexData;\r\n\r\n        this.teapotBuffer = this.device.createBuffer({\r\n            size: this.vertexData.byteLength,\r\n            usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST,\r\n        })\r\n\r\n        this.bindGroup = this.device.createBindGroup({\r\n            label: 'Bind group for rotating triangles',\r\n            layout: this.bindGroupLayout,\r\n            entries: [\r\n                { binding: 0, resource: { buffer: this.uniformBuffer } },\r\n                { binding: 1, resource: { buffer: this.teapotBuffer } },\r\n            ]\r\n        });\r\n    }\r\n\r\n    public changeTexture(type: GPUPrimitiveTopology){\r\n        const pipelineLayout = this.device.createPipelineLayout({\r\n            bindGroupLayouts: [this.bindGroupLayout]\r\n        });\r\n\r\n        this.renderPipeline = this.device.createRenderPipeline({\r\n            label: \"Render pipeline\",\r\n            layout: pipelineLayout,\r\n            vertex: {\r\n                module: this.device.createShaderModule({ code: shader })\r\n            },\r\n            fragment: {\r\n                module: this.device.createShaderModule({ code: shader }),\r\n                targets: [{ format: navigator.gpu.getPreferredCanvasFormat() }]\r\n            },\r\n            depthStencil: {\r\n                format: 'depth24plus',\r\n                depthWriteEnabled: true,\r\n                depthCompare: 'less',\r\n            },\r\n            primitive: {\r\n                topology: type\r\n            }\r\n        });\r\n    }\r\n\r\n    public render = (time: number) => {\r\n        this.bufferData[0] = sclX.valueAsNumber / 100;\r\n        this.bufferData[1] = sclY.valueAsNumber / 100;\r\n        this.bufferData[2] = sclZ.valueAsNumber / 100;\r\n        this.bufferData[3] = fov.valueAsNumber / 10;\r\n        this.bufferData[4] = corX.valueAsNumber;\r\n        this.bufferData[5] = corY.valueAsNumber;\r\n        this.bufferData[6] = corZ.valueAsNumber;\r\n        this.bufferData[7] = time * 0.001;\r\n\r\n        this.device.queue.writeBuffer(this.uniformBuffer, 0, this.bufferData, 0, 8);\r\n        this.device.queue.writeBuffer(this.teapotBuffer, 0, this.vertexData);\r\n\r\n        const commandEncoder = this.device.createCommandEncoder({ label: \"Command encoder in renderer\" });\r\n\r\n        const renderPassDescriptor: GPURenderPassDescriptor = {\r\n            label: \"Render pass in renderer\",\r\n            colorAttachments: [\r\n                {\r\n                    view: this.context.getCurrentTexture().createView(),\r\n                    clearValue: { r: 0.2, g: 0.2, b: 0.2, a: 1.0 },\r\n                    loadOp: 'clear',\r\n                    storeOp: 'store',\r\n                }\r\n            ],\r\n            depthStencilAttachment: {\r\n                view: this.depthTexture.createView(),\r\n                depthClearValue: 1.0,\r\n                depthLoadOp: 'clear',\r\n                depthStoreOp: 'store',\r\n            }\r\n        }\r\n        const renderPass = commandEncoder.beginRenderPass(renderPassDescriptor);\r\n        renderPass.setPipeline(this.renderPipeline);\r\n        renderPass.setBindGroup(0, this.bindGroup);\r\n        renderPass.draw(this.vertexData.byteLength);\r\n        renderPass.end();\r\n        this.device.queue.submit([commandEncoder.finish()]);\r\n        requestAnimationFrame(this.render)\r\n    }\r\n};\r\n\r\n","export default \"struct Uniforms {\\r\\n    scale: vec3f,\\r\\n    fov: f32,\\r\\n    position: vec3f,\\r\\n    time: f32,\\r\\n};\\r\\n\\r\\nstruct Cube {\\r\\n    @builtin(position) cubeVerts: vec4f,\\r\\n    // @location(0) cubeColor: vec4f\\r\\n};\\r\\n\\r\\n@group(0) @binding(0) var<uniform> uni: Uniforms;\\r\\n@group(0) @binding(1) var<storage, read> cube: array<Cube>;\\r\\n\\r\\n@vertex\\r\\nfn vert(@builtin(vertex_index) vertIndex: u32) -> Cube {\\r\\n\\r\\n    let rotationMatrixY = mat4x4f(\\r\\n        vec4f(cos(uni.time), 0, sin(uni.time), 0),\\r\\n        vec4f(0, 1, 0, 0),\\r\\n        vec4f(-sin(uni.time), 0, cos(uni.time), 0),\\r\\n        vec4f(0, 0, 0, 1),\\r\\n    );\\r\\n\\r\\n    let rotationMatrixX = mat4x4f(\\r\\n        vec4f(1, 0, 0, 0),\\r\\n        vec4f(0, cos(uni.time * 2), -sin(uni.time * 2), 0),\\r\\n        vec4f(0, sin(uni.time * 2), cos(uni.time * 2), 0),\\r\\n        vec4f(0, 0, 0, 1),\\r\\n    );\\r\\n\\r\\n    let perspMatrix = mat4x4f(\\r\\n        vec4f(1 / tan(3.1415 * uni.fov / 4), 0, 0, 0),\\r\\n        vec4f(0, 1 / tan(3.1415 * uni.fov / 4), 0, 0),\\r\\n        vec4f(0, 0, -600.0 / 599.99, -1),\\r\\n        vec4f(0, 0, -6 / 599.99, 0),\\r\\n    );\\r\\n\\r\\n    let scaleMatr = mat4x4f(\\r\\n        vec4f(uni.scale.x, 0, 0 , 0),\\r\\n        vec4f(0, uni.scale.y, 0 , 0),\\r\\n        vec4f(0, 0, uni.scale.z , 0),\\r\\n        vec4f(0, 0, 0 , 1),\\r\\n    );\\r\\n\\r\\n    let offset = vec4f(uni.position, 0);\\r\\n\\r\\n    var output: Cube;\\r\\n    output.cubeVerts = perspMatrix * (rotationMatrixY * scaleMatr * cube[vertIndex].cubeVerts + offset);\\r\\n    // output.cubeColor = cube[vertIndex].cubeColor;\\r\\n    return output;\\r\\n}\\r\\n\\r\\n@fragment\\r\\nfn frag(input: Cube) -> @location(0) vec4f {\\r\\n    // return input.cubeColor;\\r\\n    return vec4f(0.7, 0.7, 0.7, 1.0);\\r\\n}\\r\\n\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Renderer } from \"./renderer\";\r\nimport { loadObj, parseObj } from \"./objParser\";\r\n\r\nconst canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\r\n\r\nconst teapot = document.getElementById(\"teapot\") as HTMLInputElement;\r\nconst cat = document.getElementById(\"cat\") as HTMLInputElement;\r\n\r\nconst triangle_list = document.getElementById(\"triangle-list\") as HTMLInputElement;\r\nconst point_list = document.getElementById(\"point-list\") as HTMLInputElement;\r\nconst line_list = document.getElementById(\"line-list\") as HTMLInputElement;\r\n\r\nconst renderer = new Renderer(canvas);\r\nlet text = loadObj(\"./objects/utahTeapot.obj\");\r\ntext.then((val) => {\r\n    renderer.init(parseObj(val));\r\n});\r\n\r\nteapot.addEventListener(\"click\", () => {\r\n    if (teapot.checked) {\r\n        let text = loadObj(\"./objects/utahTeapot.obj\");\r\n        text.then((val) => {\r\n            renderer.loadData(parseObj(val));\r\n        });\r\n    }\r\n    else if (cat.checked) {\r\n        let text = loadObj(\"./objects/cat.obj\");\r\n        text.then((val) => {\r\n            renderer.loadData(parseObj(val));\r\n        });\r\n    }\r\n});\r\n\r\ncat.addEventListener(\"click\", () => {\r\n    if (teapot.checked) {\r\n        let text = loadObj(\"./objects/utahTeapot.obj\");\r\n        text.then((val) => {\r\n            renderer.loadData(parseObj(val));\r\n        });\r\n    }\r\n    else if (cat.checked) {\r\n        let text = loadObj(\"./objects/cat.obj\");\r\n        text.then((val) => {\r\n            renderer.loadData(parseObj(val));\r\n        });\r\n    }\r\n});\r\n\r\ntriangle_list.addEventListener(\"click\", () => {\r\n    if (triangle_list.checked) {\r\n        renderer.changeTexture('triangle-list');\r\n    }\r\n});\r\npoint_list.addEventListener(\"click\", () => {\r\n    if (point_list.checked) {\r\n        renderer.changeTexture('point-list');\r\n    }\r\n});\r\nline_list.addEventListener(\"click\", () => {\r\n    if (line_list.checked) {\r\n        renderer.changeTexture('line-list');\r\n    }\r\n});\r\n\r\n\r\n"],"names":[],"sourceRoot":""}